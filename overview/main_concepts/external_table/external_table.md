---
layout: default
title: Внешняя таблица
nav_order: 7
parent: Основные понятия
grand_parent: Обзор понятий, компонентов и связей
has_children: false
has_toc: false
---

# Внешняя таблица {#external_table}
{: .no_toc }

<details markdown="block">
  <summary>
    Содержание раздела
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

_Внешняя таблица_ — специальная сущность, которая ссылается на внешний источник или приемник данных и не хранит сами данные. 
Источниками и приемниками данных могут быть:
* топики Kafka,
* [standalone-таблицы](../../main_concepts/standalone_table/standalone_table.md).

Доступны следующие виды внешних таблиц:
* [внешняя таблица загрузки](#upload_table),
* [внешняя таблица выгрузки](#download_table),
* [внешняя writable-таблица](#writable_table),
* [внешняя readable-таблица](#readable_table).

Внешние таблицы можно создавать и удалять. Подробнее об управлении внешними таблицами см. в разделе <>.
{: .note-wrapper}

## Внешняя таблица загрузки {#upload_table}

Внешняя таблица загрузки позволяет [загружать](../../../working_with_system/data_upload/data_upload.md) данные
из топика Kafka в систему: в 
[логическую таблицу](../../main_concepts/logical_table/logical_table.md) 
или [внешнюю writable-таблицу](#writable_table).

Внешняя таблица загрузки определяет следующие параметры загрузки:
* список загружаемых полей,
* [путь к топику Kafka](../../../reference/path_to_kafka_topic/path_to_kafka_topic.md),
* формат обмена данными,
* дополнительные параметры.

На рисунке ниже показана связь внешних таблиц загрузки с таблицами-приемниками данных. Прямые зеленые стрелки 
обозначают направление движения данных при загрузке данных в систему.

![](upload_external_table.svg)
{: .figure-center}
*Внешняя таблица загрузки в операциях загрузки данных*
{: .figure-caption-center}

## Внешняя таблица выгрузки {#download_table}

Внешняя таблица выгрузки позволяет [выгружать](../../../working_with_system/data_download/data_download.md) данные
из системы в топик Kafka. 

С помощью внешней таблицы выгрузки можно выгружать результаты определенного 
[SELECT](../../../reference/sql_plus_requests/SELECT/SELECT.md)-подзапроса. Такой подзапрос может обращаться 
к отдельным сущностям и их соединениям: логическим таблицам, [логическим](../../main_concepts/logical_view/logical_view.md) 
и [материализованным представлениям](../../main_concepts/materialized_view/materialized_view.md), 
[внешним readable-таблицам](#readable_table).

Внешняя таблица загрузки определяет следующие параметры выгрузки:
* список выгружаемых полей,
* [путь к топику Kafka](../../../reference/path_to_kafka_topic/path_to_kafka_topic.md),
* формат обмена данными.

На рисунке ниже показана связь внешней таблицы выгрузки с таблицами-источниками данных. Прямые зеленые стрелки
обозначают направление движения данных при выгрузке данных из системы.

![](download_external_table.svg)
{: .figure-center}
*Внешняя таблица выгрузки в операциях выгрузки данных*
{: .figure-caption-center}

## Рекомендации по разделению данных по топикам Kafka

Потоки обмена данными с системой через топики Kafka должны быть разделены по топикам в следующих разрезах:
* по таблицам, куда загружаются данные,
* по направлениям потоков данных (загрузка/выгрузка),
* (опционально) по дополнительным признакам, например по внешним информационным системам.

Например, если для логической таблицы нужно поддержать загрузку и выгрузку данных, для нее следует создать 
хотя бы по одной таблице загрузки и выгрузки.

## Внешняя writable-таблица {#writable_table}

Внешняя writable-таблица позволяет записывать данные в [standalone-таблицу](../standalone_table/standalone_table.md) 
с помощью функций загрузки и [обновления данных](../../../working_with_system/data_update/data_update.md).

Внешняя writable-таблица определяет следующие параметры записи:
* список записываемых полей,
* путь к standalone-таблице,
* дополнительные параметры.

На рисунке ниже показана связь writable-таблицы с таблицей загрузки и standalone-таблицей. Прямые зеленые стрелки
обозначают направление данных при загрузке данных, красные — направление данных при обновлении данных.

![](writable_external_table.svg)
{: .figure-center}
*Внешняя writable-таблица в операциях загрузки и обновления данных*
{: .figure-caption-center}

## Внешняя readable-таблица {#readable_table}

Внешняя readable-таблица позволяет читать данные из standalone-таблицы с помощью функций 
[чтения](../../../working_with_system/data_reading/data_reading.md) и выгрузки данных.

Внешняя таблица загрузки определяет следующие параметры чтения:
* список считываемых полей,
* путь к standalone-таблице,
* дополнительные параметры.

На рисунке ниже показана связь readable-таблицы с таблицей выгрузки и standalone-таблицей. Прямые зеленые стрелки
обозначают направление данных при выгрузке данных, красные — направление данных при чтении данных.

![](readable_external_table.svg)
{: .figure-center}
*Внешняя readable-таблица в операциях выгрузки и чтения данных*
{: .figure-caption-center}